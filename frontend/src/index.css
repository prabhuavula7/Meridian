@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=Manrope:wght@400;500;600;700;800&family=Sora:wght@500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;

  --bg-base: 5 5 6;
  --bg-deep: 2 2 3;
  --bg-elevated: 11 11 14;

  --surface: 16 16 21;
  --surface-hover: 24 24 32;
  --surface-active: 33 33 44;
  --surface-glass: 20 20 30;

  --fg-primary: 237 237 239;
  --fg-muted: 139 143 152;
  --fg-subtle: 102 106 115;

  --border-default: 38 38 49;
  --border-hover: 71 71 89;
  --border-accent: 100 58 183;

  --accent-base: 91 42 174;
  --accent-hover: 113 59 204;
  --accent-glow: 144 90 248;

  --gold-base: 201 164 76;
  --gold-glow: 214 179 92;

  --focus-ring: 159 117 255;

  --success: 46 204 113;
  --warning: 222 163 79;
  --danger: 223 86 113;
  --info: 79 148 255;

  --shadow-soft: 0 1px 0 rgba(255, 255, 255, 0.03), 0 10px 28px rgba(0, 0, 0, 0.28);
  --shadow-elevated: 0 2px 0 rgba(255, 255, 255, 0.03), 0 20px 48px rgba(0, 0, 0, 0.42);
  --shadow-floating: 0 1px 0 rgba(255, 255, 255, 0.04), 0 24px 60px rgba(0, 0, 0, 0.5);
  --shadow-glow: 0 0 0 1px rgba(144, 90, 248, 0.15), 0 16px 52px rgba(106, 56, 191, 0.35);

  --radius-xs: 0.375rem;
  --radius-sm: 0.5rem;
  --radius-md: 0.75rem;
  --radius-lg: 1rem;
  --radius-xl: 1.25rem;

  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-md: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.375rem;
  --font-size-2xl: 1.875rem;
  --font-size-3xl: 2.375rem;

  --transition-fast: 200ms cubic-bezier(0.16, 1, 0.3, 1);
  --transition-base: 260ms cubic-bezier(0.16, 1, 0.3, 1);
  --transition-slow: 320ms cubic-bezier(0.16, 1, 0.3, 1);
}

@media (prefers-color-scheme: light) {
  :root {
    color-scheme: light;

    --bg-base: 255 255 255;
    --bg-deep: 248 248 251;
    --bg-elevated: 255 255 255;

    --surface: 250 250 253;
    --surface-hover: 243 244 249;
    --surface-active: 235 237 244;
    --surface-glass: 255 255 255;

    --fg-primary: 18 19 26;
    --fg-muted: 95 99 112;
    --fg-subtle: 123 128 142;

    --border-default: 224 226 234;
    --border-hover: 187 191 205;
    --border-accent: 118 76 198;

    --accent-base: 91 42 174;
    --accent-hover: 108 54 194;
    --accent-glow: 125 75 214;

    --gold-base: 198 157 69;
    --gold-glow: 208 170 84;

    --focus-ring: 98 52 181;

    --success: 28 169 86;
    --warning: 189 130 42;
    --danger: 197 71 101;
    --info: 51 118 228;

    --shadow-soft: 0 1px 0 rgba(20, 20, 25, 0.03), 0 8px 24px rgba(20, 20, 25, 0.08);
    --shadow-elevated: 0 1px 0 rgba(20, 20, 25, 0.04), 0 16px 36px rgba(20, 20, 25, 0.12);
    --shadow-floating: 0 1px 0 rgba(20, 20, 25, 0.04), 0 22px 42px rgba(20, 20, 25, 0.14);
    --shadow-glow: 0 0 0 1px rgba(125, 75, 214, 0.2), 0 14px 40px rgba(125, 75, 214, 0.2);
  }
}

[data-theme='dark'] {
  color-scheme: dark;

  --bg-base: 5 5 6;
  --bg-deep: 2 2 3;
  --bg-elevated: 11 11 14;

  --surface: 16 16 21;
  --surface-hover: 24 24 32;
  --surface-active: 33 33 44;
  --surface-glass: 20 20 30;

  --fg-primary: 237 237 239;
  --fg-muted: 139 143 152;
  --fg-subtle: 102 106 115;

  --border-default: 38 38 49;
  --border-hover: 71 71 89;
  --border-accent: 100 58 183;

  --accent-base: 91 42 174;
  --accent-hover: 113 59 204;
  --accent-glow: 144 90 248;

  --gold-base: 201 164 76;
  --gold-glow: 214 179 92;

  --focus-ring: 159 117 255;

  --success: 46 204 113;
  --warning: 222 163 79;
  --danger: 223 86 113;
  --info: 79 148 255;

  --shadow-soft: 0 1px 0 rgba(255, 255, 255, 0.03), 0 10px 28px rgba(0, 0, 0, 0.28);
  --shadow-elevated: 0 2px 0 rgba(255, 255, 255, 0.03), 0 20px 48px rgba(0, 0, 0, 0.42);
  --shadow-floating: 0 1px 0 rgba(255, 255, 255, 0.04), 0 24px 60px rgba(0, 0, 0, 0.5);
  --shadow-glow: 0 0 0 1px rgba(144, 90, 248, 0.15), 0 16px 52px rgba(106, 56, 191, 0.35);
}

[data-theme='light'] {
  color-scheme: light;

  --bg-base: 255 255 255;
  --bg-deep: 248 248 251;
  --bg-elevated: 255 255 255;

  --surface: 250 250 253;
  --surface-hover: 243 244 249;
  --surface-active: 235 237 244;
  --surface-glass: 255 255 255;

  --fg-primary: 18 19 26;
  --fg-muted: 95 99 112;
  --fg-subtle: 123 128 142;

  --border-default: 224 226 234;
  --border-hover: 187 191 205;
  --border-accent: 118 76 198;

  --accent-base: 91 42 174;
  --accent-hover: 108 54 194;
  --accent-glow: 125 75 214;

  --gold-base: 198 157 69;
  --gold-glow: 208 170 84;

  --focus-ring: 98 52 181;

  --success: 28 169 86;
  --warning: 189 130 42;
  --danger: 197 71 101;
  --info: 51 118 228;

  --shadow-soft: 0 1px 0 rgba(20, 20, 25, 0.03), 0 8px 24px rgba(20, 20, 25, 0.08);
  --shadow-elevated: 0 1px 0 rgba(20, 20, 25, 0.04), 0 16px 36px rgba(20, 20, 25, 0.12);
  --shadow-floating: 0 1px 0 rgba(20, 20, 25, 0.04), 0 22px 42px rgba(20, 20, 25, 0.14);
  --shadow-glow: 0 0 0 1px rgba(125, 75, 214, 0.2), 0 14px 40px rgba(125, 75, 214, 0.2);
}

@layer base {
  * {
    border-color: rgb(var(--border-default));
  }

  html {
    scroll-behavior: smooth;
    text-rendering: optimizeLegibility;
  }

  body {
    margin: 0;
    min-height: 100vh;
    font-family: Manrope, system-ui, sans-serif;
    background-color: rgb(var(--bg-base));
    color: rgb(var(--fg-primary));
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-size: var(--font-size-md);
    line-height: 1.45;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: Sora, Manrope, sans-serif;
    letter-spacing: -0.02em;
    color: rgb(var(--fg-primary));
  }

  :where(button, input, textarea, select, a):focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px rgb(var(--focus-ring) / 0.92),
      0 0 0 4px rgb(var(--bg-base));
  }

  ::selection {
    background: rgb(var(--accent-base) / 0.28);
    color: rgb(var(--fg-primary));
  }
}

@layer components {
  .app-shell {
    min-height: 100vh;
    background:
      radial-gradient(130% 80% at 5% -10%, rgb(var(--accent-base) / 0.16), transparent 52%),
      radial-gradient(110% 65% at 90% -20%, rgb(var(--gold-base) / 0.1), transparent 50%),
      linear-gradient(180deg, rgb(var(--bg-elevated)), rgb(var(--bg-base)) 36%, rgb(var(--bg-deep)));
  }

  .surface {
    background: linear-gradient(
      180deg,
      rgb(var(--surface) / 0.92),
      rgb(var(--surface) / 0.74)
    );
    border: 1px solid rgb(var(--border-default) / 0.85);
    box-shadow: var(--shadow-soft);
    border-radius: var(--radius-lg);
    backdrop-filter: blur(14px);
  }

  .surface-interactive {
    transition:
      border-color var(--transition-fast),
      box-shadow var(--transition-fast),
      transform var(--transition-fast),
      background-color var(--transition-fast);
  }

  .surface-interactive:hover {
    border-color: rgb(var(--border-hover));
    box-shadow: var(--shadow-elevated);
    transform: translateY(-2px);
  }

  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-md px-4 py-2.5 text-sm font-semibold text-white;
    background: linear-gradient(135deg, rgb(var(--accent-base)), rgb(var(--accent-hover)) 70%);
    border: 1px solid rgb(var(--accent-hover));
    box-shadow:
      0 0 0 1px rgb(var(--accent-base) / 0.4),
      0 12px 26px rgb(var(--accent-base) / 0.36);
    transition: transform var(--transition-fast), filter var(--transition-fast), box-shadow var(--transition-fast);
  }

  .btn-primary:hover {
    transform: translateY(-1px);
    filter: brightness(1.04);
    box-shadow:
      0 0 0 1px rgb(var(--accent-hover) / 0.6),
      0 16px 30px rgb(var(--accent-base) / 0.46);
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 rounded-md px-4 py-2.5 text-sm font-semibold;
    background: rgb(var(--surface-hover) / 0.86);
    color: rgb(var(--fg-primary));
    border: 1px solid rgb(var(--border-default));
    transition: background-color var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast);
  }

  .btn-secondary:hover {
    background: rgb(var(--surface-active) / 0.95);
    border-color: rgb(var(--border-hover));
    transform: translateY(-1px);
  }

  .card {
    @apply rounded-xl p-6;
    background: linear-gradient(160deg, rgb(var(--surface) / 0.9), rgb(var(--surface) / 0.7));
    border: 1px solid rgb(var(--border-default));
    box-shadow: var(--shadow-soft);
  }

  .input-field {
    @apply w-full rounded-md px-3 py-2.5 text-sm;
    background: rgb(var(--surface) / 0.72);
    border: 1px solid rgb(var(--border-default));
    color: rgb(var(--fg-primary));
    transition: border-color var(--transition-fast), background-color var(--transition-fast), box-shadow var(--transition-fast);
  }

  .input-field::placeholder {
    color: rgb(var(--fg-subtle));
  }

  .input-field:hover {
    border-color: rgb(var(--border-hover));
  }

  .section-title {
    @apply text-2xl font-semibold;
    color: rgb(var(--fg-primary));
  }

  .gradient-text {
    background: linear-gradient(135deg, rgb(var(--accent-glow)), rgb(var(--gold-base)) 90%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .app-grid {
    background-image:
      linear-gradient(to right, rgb(var(--border-default) / 0.11) 1px, transparent 1px),
      linear-gradient(to bottom, rgb(var(--border-default) / 0.11) 1px, transparent 1px);
    background-size: 34px 34px;
  }

  .app-noise {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180' viewBox='0 0 180 180'%3E%3Cfilter id='n'%3E%3CfeTurbulence baseFrequency='0.92' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='0.14'/%3E%3C/svg%3E");
    background-size: 180px 180px;
    opacity: 0.22;
    mix-blend-mode: soft-light;
  }
}

::-webkit-scrollbar {
  width: 9px;
  height: 9px;
}

::-webkit-scrollbar-track {
  background: rgb(var(--bg-deep));
}

::-webkit-scrollbar-thumb {
  background: rgb(var(--border-hover));
  border-radius: 999px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgb(var(--accent-base));
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 1ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 1ms !important;
    scroll-behavior: auto !important;
  }
}

@media print {
  @page {
    size: auto;
    margin: 12mm;
  }

  html,
  body {
    background: #ffffff !important;
    color: #111111 !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  .no-print {
    display: none !important;
  }

  .analysis-report-root {
    max-width: none !important;
    padding: 0 !important;
  }

  .card {
    background: #ffffff !important;
    color: #111111 !important;
    border: 1px solid #d1d5db !important;
    box-shadow: none !important;
    break-inside: avoid;
    page-break-inside: avoid;
  }
}
