# ============================================================================
# Meridian AI unified environment file
# Single source of truth for frontend + backend (TypeScript) + backend_py.
# Copy to .env at repo root and edit values as needed.
# ============================================================================

# Shared
NODE_ENV=development
DEBUG_LOGS=true

# ----------------------------------------------------------------------------
# Frontend (React CRA): only REACT_APP_* vars are exposed to browser bundles
# ----------------------------------------------------------------------------
REACT_APP_API_BASE_URL=http://localhost:5050/api/v1
REACT_APP_MAPBOX_ACCESS_TOKEN=your_mapbox_access_token_here
REACT_APP_OPENAI_API_KEY=your_openai_api_key_here
REACT_APP_OPENAI_MODEL=gpt-4
REACT_APP_OPENAI_MAX_TOKENS=4000
REACT_APP_ANALYSIS_TEMPERATURE=0.7
REACT_APP_DEBUG_LOGS=true
REACT_APP_REQUEST_CACHE_TTL_MS=900000
REACT_APP_ROUTE_ENRICH_CACHE_MAX=8
REACT_APP_ANALYSIS_CACHE_MAX=6

# ----------------------------------------------------------------------------
# TypeScript backend (Express)
# ----------------------------------------------------------------------------
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

PORT=5050
CORS_ORIGIN=http://localhost:3000

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
REQUEST_SIZE_LIMIT=10mb

LOG_LEVEL=info
ENABLE_MORGAN=true

API_VERSION=v1
API_BASE_PATH=/api
API_TIMEOUT=30000

NOMINATIM_BASE_URL=https://nominatim.openstreetmap.org/search
OSRM_BASE_URL=https://router.project-osrm.org
ROUTE_HTTP_TIMEOUT_MS=7000
NOMINATIM_USER_AGENT=Meridian AI Supply Chain Route Service/1.0

ROUTE_ENRICHMENT_CACHE_TTL_MS=3600000
ROUTE_ENRICHMENT_CACHE_MAX_ENTRIES=20
ROUTE_LOCATION_CACHE_MAX_ENTRIES=2500
ROUTE_ENRICH_CONCURRENCY=4

MAX_OSRM_CONNECTOR_DISTANCE_KM=1200
MAX_OSRM_LAND_DISTANCE_KM=3500
MAX_OSRM_RAIL_DISTANCE_KM=2800
MAX_LAND_NODE_ANCHOR_KM=1400

# ----------------------------------------------------------------------------
# Python backend (FastAPI scaffold in backend_py/)
# ----------------------------------------------------------------------------
APP_NAME=Meridian AI Python API
APP_ENV=development
APP_HOST=0.0.0.0
APP_PORT=8000
APP_LOG_LEVEL=INFO
APP_REQUEST_ID_HEADER=X-Request-ID

DATABASE_URL=postgresql://postgres:postgres@localhost:5432/meridian
REDIS_URL=redis://localhost:6379/0
